<!DOCTYPE html>
<html>
<head>
    <title>WebSocket JSON Reader</title>
</head>
<body>
    <h1>WebSocket JSON Data:</h1>
    <pre id="jsonOutput"></pre>

    <script>
        const outputElement = document.getElementById("jsonOutput");
        const ports = [3001, 3002, 3003, 3004];
        const websockets = [];

        function connectWebSocket(port) {
            const ws = new WebSocket(`ws://localhost:${port}/ws`);
            ws.onmessage = (event) => {
                const jsonData = JSON.parse(event.data);
                const formattedJson = JSON.stringify(jsonData, null, 2);
                outputElement.textContent = formattedJson;
            };
            websockets.push(ws);
        }

        ports.forEach(port => connectWebSocket(port));

    </script>
</body>
</html>
